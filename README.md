Swipe
=========

## Презентация (Совмещение с POS-терминалом)

[![Совмещение с POS-терминалом](https://i.ytimg.com/vi/no9K8eXwoZI/sddefault.jpg)](https://www.youtube.com/watch?v=no9K8eXwoZI "Совмещение с POS-терминалом")

## Проблемы интеграции с облачным решением на базе «1С:Предприятие 8»

За основу примем конфигурацию «Управление небольшой фирмой» в облаке. На текущий момент поддержки POS-терминалов, как подключаемого оборудования, нет (драйвер Ingenico от «Приватбанка» не работает в облаке). 
Так же существуют ограничения в самой архитектуре подключаемого оборудования от «1С»:
* банк предлагает различные сервисы: **«Оплата частями»**, **«Мгновенная рассрочка»** от которых при жестком режиме совмещения придется отказаться, так как поддержки оплаты сервисом в конфигурации нет;
* для того чтобы использовать программу лояльности **«Бонус+»** необходимо создавать несколько терминалов в БД, что не практично;
* отсутствует возможность инкасации;
* невозможно организовать все бизнес-процессы так, чтобы кассир не взаимодействовал с POS-терминалом минуя учетную систему.

## Что предлагаем 

Система является трех-компонентной и имеет два типа архитектуры:
1. Драйвер который функционирует в веб-клиенте, служба\демон на стороне клиента, облако регистрации терминалов  
    - в конфигурацию добавляеться драйвер для устройств эквайринговых терминалов по технологии NativeAPI;
    - драйвер подключается к службе/демону на стороне клиента (служба в сети предприятия, Arduino и т.п.) и передает данные оплаты на POS-устройство;
    - для поддержки, всех возможных сервисов банка, возможно использовать расширение для конфигурации или подключаемые дополнительные обработки;
    - облако регистрации терминалов необходимо для периодического (например, раз в месяц) сбора оплаты за услугу.
2. Основные изменения распостраняются как расширение к конфигурации
    - в конфигурацию добавляеться расширение или дополнительная обработка;
    - расширение или дополнительная обработка подключается к службе очередей в интернете и регистрируется там;
    - служба или демон стороне клиента со своей стороны так же подключаются к службе очередей в интернете;
    - при возникновении события на стороне конфигурации «1С» с помощью очередей данные оплаты передаются на POS-устройство;
    - для поддержки, всех возможных сервисов банка, возможно использовать расширение для конфигурации или подключаемые дополнительные обработки;
    - облако регистрации терминалов необходимо для периодического (например, раз в месяц) сбора оплаты за услугу.
